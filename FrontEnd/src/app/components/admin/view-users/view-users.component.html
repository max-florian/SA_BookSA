<!-- As a heading -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <span class="navbar-brand mb-0 h1">BookSA</span>

  <div *ngIf="isLogged" class="collapse navbar-collapse" id="navbarSupportedContent">   

    <!-- Links -->
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link waves-light" mdbWavesEffect routerLink="/admin"><i class="fas fa-th"></i>Administrar usuarios</a>
      </li>
      <li class="nav-item">
        <a class="nav-link waves-light" mdbWavesEffect routerLink="/admin/bitacora"><i class="fas fa-receipt"></i> Bitacora</a>
      </li>
    </ul>

    <!-- Links -->
    <ul class="navbar-nav ml-auto nav-flex-icons">
      <li class="nav-item dropdown">
        
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span id="username-navbar">{{ username }}</span>
          &nbsp;
          <i class="fas fa-user-alt"></i>
        </a>
        
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
          <a class="dropdown-item waves-light" mdbWavesEffect >Perfil</a>
          <a class="dropdown-item waves-light" mdbWavesEffect (click)="logoutClickHandler()">Salir</a>
        </div>
      
      </li>
    </ul>
  
  </div>
</nav>

<div class="container">
  <h2 class="border-bottom">Administracion de usuarios</h2>
    <div class="px-5 py-3">
      <table class="table">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Nombre</th>
            <th scope="col">Correo</th>
            <th scope="col">Telefono</th>
            <th scope="col">Estado</th>
            <th scope="col">Tipo</th>
            <th scope="col">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of users; let i=index;">
            <td>{{user.nombre + " " + (user.apellido || "")}}</td>
            <td>{{user.correo}}</td>
            <td>{{user.telefono}}</td>
            <td>{{user.estado == 1 ? 'Activo' : 'Pendiente'}}</td>
            <td>{{user.tipo | titlecase}}</td>
            <td>
              <a (click)="deleteUserClickHandler(user.id, i)"><i class="fas fa-ban" style="color:darkred" title="Eliminar"></i></a>
              &nbsp;
              <a *ngIf="user.estado != 1" (click)="approveUserClickHandler(user.id, i)"><i class="fas fa-check-circle" style="color:#31703a" title="Aprobar"></i></a>        
            </td>
          </tr>
        </tbody>
      </table>
    </div>
</div>
